<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BrainStorm ‚Äî –í–∏–∫—Ç–æ—Ä–∏–Ω–∞</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Russo+One&family=JetBrains+Mono:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
  <div class="bg-grid"></div>
  <div class="bg-glow"></div>

  <!-- –¢–æ—Å—Ç—ã -->
  <div id="toasts" class="toasts"></div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="view-main" class="view active">
    <div class="hero">
      <div class="hero-logo">üß† BrainStorm</div>
      <div class="hero-sub">–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º</div>
    </div>

    <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–∫–ª–∞–¥–æ–∫ -->
    <div class="tab-switcher">
      <button class="tab-btn active" data-tab="create">‚ú® –°–æ–∑–¥–∞—Ç—å –ª–æ–±–±–∏</button>
      <button class="tab-btn" data-tab="join">üöÄ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
    </div>

    <!-- –í–∫–ª–∞–¥–∫–∞: –°–æ–∑–¥–∞—Ç—å –ª–æ–±–±–∏ -->
    <div id="tab-create" class="tab-panel active card">
      <h2 class="card-title">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ª–æ–±–±–∏</h2>
      <p class="card-hint">–í–≤–µ–¥–∏—Ç–µ –∏–º—è ‚Äî —Å—Ç–∞–Ω–µ—Ç–µ —Ö–æ—Å—Ç–æ–º –∏ —Å–º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–≥—Ä—É</p>
      <label class="field-label" for="create-name">–í–∞—à–µ –∏–º—è</label>
      <input id="create-name" class="inp" type="text"
             placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–ª–µ–∫—Å" maxlength="20" autocomplete="off">
      <div id="create-name-error" class="field-error" style="display:none">‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ –∏–º—è</div>
      <button id="btn-create" class="btn btn-primary btn-full mt-12">
        ‚ú® –°–æ–∑–¥–∞—Ç—å –ª–æ–±–±–∏
      </button>
    </div>

    <!-- –í–∫–ª–∞–¥–∫–∞: –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è -->
    <div id="tab-join" class="tab-panel card" style="display:none">
      <h2 class="card-title">–í–æ–π—Ç–∏ –≤ –∏–≥—Ä—É</h2>
      <p class="card-hint">–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã –æ—Ç —Ö–æ—Å—Ç–∞</p>
      <label class="field-label" for="join-name">–í–∞—à–µ –∏–º—è</label>
      <input id="join-name" class="inp" type="text"
             placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞—Ç—è" maxlength="20" autocomplete="off">
      <label class="field-label mt-12" for="join-code">–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã</label>
      <input id="join-code" class="inp mt-8" type="text"
             placeholder="ABCDEF" maxlength="6" autocomplete="off"
             style="text-transform:uppercase; letter-spacing: 4px; font-family: 'JetBrains Mono', monospace;">
      <div id="join-error" class="field-error" style="display:none">‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ –∫–æ–¥</div>
      <button id="btn-join" class="btn btn-primary btn-full mt-12">
        üöÄ –í–æ–π—Ç–∏ –≤ –∏–≥—Ä—É
      </button>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       –õ–û–ë–ë–ò
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="view-lobby" class="view">
    <div class="lobby-top">
      <div class="hero-logo" style="font-size:2rem">üß† BrainStorm</div>
      <div class="code-block mt-8">
        <span class="code-lbl">–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã:</span>
        <span id="lobby-code" class="code-val">------</span>
        <button id="btn-copy" class="btn-icon" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å">üìã</button>
      </div>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ -->
    <div class="card">
      <div style="display:flex;align-items:center;justify-content:space-between">
        <h3>üë• –ò–≥—Ä–æ–∫–∏ <span id="players-count">(0)</span></h3>
      </div>
      <ul id="players-list" class="players-list"></ul>
    </div>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –•–û–°–¢–ê -->
    <div id="host-settings" class="card" style="display:none">
      <h3 style="margin-bottom:16px">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã</h3>
      <label class="field-label" for="s-topic">–¢–µ–º–∞ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã</label>
      <input id="s-topic" class="inp" type="text"
             placeholder="–ú–∞–π–Ω–∫—Ä–∞—Ñ—Ç, –∏—Å—Ç–æ—Ä–∏—è –†–æ—Å—Å–∏–∏, –ø–æ–ø-–º—É–∑—ã–∫–∞..." value="–û–±—â–∏–µ –∑–Ω–∞–Ω–∏—è">
      <div class="grid-2 mt-12">
        <div>
          <label class="field-label" for="s-count">–í–æ–ø—Ä–æ—Å–æ–≤</label>
          <select id="s-count" class="inp">
            <option value="5">5</option>
            <option value="10" selected>10</option>
            <option value="15">15</option>
            <option value="20">20</option>
            <option value="30">30</option>
          </select>
        </div>
        <div>
          <label class="field-label" for="s-diff">–°–ª–æ–∂–Ω–æ—Å—Ç—å</label>
          <select id="s-diff" class="inp">
            <option value="easy">üòä –õ—ë–≥–∫–∞—è</option>
            <option value="medium" selected>üß† –°—Ä–µ–¥–Ω—è—è</option>
            <option value="hard">üî• –°–ª–æ–∂–Ω–∞—è</option>
          </select>
        </div>
        <div>
          <label class="field-label" for="s-options">–í–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞</label>
          <select id="s-options" class="inp">
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4" selected>4</option>
          </select>
        </div>
        <div>
          <label class="field-label" for="s-mode">–†–µ–∂–∏–º –∏–≥—Ä—ã</label>
          <select id="s-mode" class="inp">
            <option value="classic" selected>üèÜ –ö–ª–∞—Å—Å–∏–∫–∞</option>
            <option value="ffa">‚ö° –í—Å–µ –ø—Ä–æ—Ç–∏–≤ –≤—Å–µ—Ö</option>
            <option value="team">ü§ù –ö–æ–º–∞–Ω–¥–Ω—ã–π</option>
          </select>
        </div>
      </div>
      <div id="mode-desc" class="mode-desc mt-8">
        üèÜ <b>–ö–ª–∞—Å—Å–∏–∫–∞</b> ‚Äî –≤—Å–µ –æ—Ç–≤–µ—á–∞—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –æ—á–∫–∏ –∑–∞ —Å–∫–æ—Ä–æ—Å—Ç—å.
      </div>
      <button id="btn-apply" class="btn btn-secondary btn-full mt-12">
        üíæ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
      </button>
    </div>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ì–û–°–¢–Ø (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä, –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∂–∏–≤—å—ë–º) -->
    <div id="guest-settings" class="card" style="display:none">
      <h3 style="margin-bottom:12px">üìã –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã</h3>
      <div id="guest-settings-display" class="guest-settings-grid">
        <div class="gs-item">
          <span class="gs-icon">üéØ</span>
          <span class="gs-label">–¢–µ–º–∞</span>
          <span id="gs-topic" class="gs-value">‚Äî</span>
        </div>
        <div class="gs-item">
          <span class="gs-icon">‚ùì</span>
          <span class="gs-label">–í–æ–ø—Ä–æ—Å–æ–≤</span>
          <span id="gs-count" class="gs-value">‚Äî</span>
        </div>
        <div class="gs-item">
          <span class="gs-icon">‚ö°</span>
          <span class="gs-label">–°–ª–æ–∂–Ω–æ—Å—Ç—å</span>
          <span id="gs-diff" class="gs-value">‚Äî</span>
        </div>
        <div class="gs-item">
          <span class="gs-icon">üéÆ</span>
          <span class="gs-label">–†–µ–∂–∏–º</span>
          <span id="gs-mode" class="gs-value">‚Äî</span>
        </div>
      </div>
      <div id="wait-hint" class="wait-hint mt-12">
        ‚è≥ –û–∂–∏–¥–∞–µ–º —Å—Ç–∞—Ä—Ç–∞ –æ—Ç —Ö–æ—Å—Ç–∞...
      </div>
    </div>

    <div class="lobby-footer">
      <button id="btn-start" class="btn btn-primary" style="display:none">
        üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
      </button>
      <button id="btn-leave-lobby" class="btn btn-ghost" style="display:none">
        ‚Üê –í—ã–π—Ç–∏
      </button>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       –ó–ê–ì–†–£–ó–ö–ê
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="view-loading" class="view">
    <div style="text-align:center;padding:60px 20px">
      <div class="hero-logo">üß† BrainStorm</div>
      <div class="loading-spinner mt-20"></div>
      <p id="loading-msg" class="mt-20" style="color:#a0a8c0;font-size:1.2rem">
        ü§ñ GigaChat –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–æ–ø—Ä–æ—Å—ã...
      </p>
      <p style="color:#5a6280;font-size:0.9rem;margin-top:8px">
        –û–±—ã—á–Ω–æ –∑–∞–Ω–∏–º–∞–µ—Ç 5‚Äì15 —Å–µ–∫—É–Ω–¥
      </p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       –ò–ì–†–û–í–û–ô –≠–ö–†–ê–ù
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="view-game" class="view">

    <!-- –®–∞–ø–∫–∞ -->
    <div class="game-header">
      <div class="progress-wrap">
        <span id="g-qnum" class="g-qnum">–í–æ–ø—Ä–æ—Å 0 / 0</span>
        <div class="progress-track">
          <div id="g-progress" class="progress-fill"></div>
        </div>
      </div>
      <div id="g-timer" class="g-timer">30</div>
      <button id="btn-leave-game" class="exit-btn btn" title="–í—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã">‚úï</button>
    </div>

    <!-- –ö–æ–º–∞–Ω–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ -->
    <div id="team-board" class="team-board" style="display:none">
      <div class="tb-cell">
        <span class="tb-name team-1-color">–ö–æ–º–∞–Ω–¥–∞ 1</span>
        <span id="tb-s1" class="tb-score">0</span>
      </div>
      <span class="tb-vs">VS</span>
      <div class="tb-cell">
        <span class="tb-name team-2-color">–ö–æ–º–∞–Ω–¥–∞ 2</span>
        <span id="tb-s2" class="tb-score">0</span>
      </div>
    </div>

    <!-- –ú–æ–∏ –æ—á–∫–∏ –∏ –±–µ–π–¥–∂–∏ -->
    <div class="score-row">
      <span class="score-lbl">–û—á–∫–∏:</span>
      <span id="g-score" class="score-val">0</span>
      <span id="g-mode-badge" class="mode-badge"></span>
      <span id="g-team" class="diff-badge" style="display:none"></span>
    </div>

    <!-- –í–æ–ø—Ä–æ—Å -->
    <div class="question-card">
      <p id="g-question" class="question-text">–ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–∞...</p>
    </div>

    <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ -->
    <div id="options-grid" class="options-grid"></div>

    <!-- FFA —Ñ–ª—ç—à -->
    <div id="ffa-flash" class="ffa-flash" style="display:none"></div>

    <!-- –•–æ–¥ –∫–æ–º–∞–Ω–¥—ã -->
    <div id="turn-bar" class="turn-bar" style="display:none"></div>

    <!-- –°—Ç–∞—Ç—É—Å -->
    <p id="g-status" class="g-status"></p>

    <!-- –ü–∞–Ω–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤–æ–ø—Ä–æ—Å–∞ -->
    <div id="question-result-panel" class="result-panel" style="display:none">
      <div id="result-title" class="result-title">‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!</div>
      <div id="qr-scores" class="qr-scores"></div>
      <p class="qr-next-hint">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥...</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       –†–ï–ó–£–õ–¨–¢–ê–¢–´
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="view-results" class="view">
    <div id="result-banner" class="result-banner" style="display:none"></div>
    <h1 class="results-h">üèÜ –ò—Ç–æ–≥–∏ –∏–≥—Ä—ã</h1>
    <div id="leaderboard" class="leaderboard"></div>
    <div style="text-align:center">
      <button id="btn-again" class="btn btn-primary">üîÑ –ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.min.js"></script>
  <script src="/static/js/game.js"></script>
</body>
</html>
